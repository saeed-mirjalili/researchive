{% extends 'base.html' %} {% block content %}

<div class="col-md-6">
  <form method="get" class="d-flex" novalidate>
    <div class="input-group">
      {{ form.search }}
      <button class="btn btn-secondary btn-lg" type="submit">
        <span class="icon-search"></span>
      </button>
    </div>
  </form>
</div>

<div class="d-flex bd-highlight w-75 justify-content-center">
  <div class="p-2 flex-shrink-1 bd-highlight align-self-center text-center">
    <h1>Scientific articles</h1>
    <p>
      We have provided you with a library containing <b>{{ num }}</b> scientific
      articles in various fields
    </p>
    <p>
      <small class="text-body-secondary">Last updated 3 mins ago</small>
    </p>
  </div>

  <div class="p-2 w-100 flex-fill bd-highlight">
    {% load static %}
    <img src="{% static 'svg/library.svg' %}" alt="..." />
  </div>
</div>

<hr class="w-75" />



<div class="d-flex w-100">
  <span class="d-flex justify-content-evenly flex-wrap align-items-center" style="width: inherit">
    {% for article in articles %}
    <div class="card text-bg-light mb-3" style="width: 18rem;height: 100%;">

      <div class="card-header d-flex justify-content-between">
        <h5
          class="d-flex justify-content-between"
          dir="{% if article.lang == 'fa' %}rtl{% else %}ltr{% endif %}"
        >
          {{ article.title }}
        </h5>
        <a href="/star/star/{{ article.id }}" class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">
          {% if article.like_count == 0 %}
          <span class="icon-star-o">
          {% else %}
          <span class="icon-star">
          {% endif %}
          </span> Star<span> {{ article.like_count }} </span>
        </a>
      </div>

      <div class="card-body">
        <p
          class="card-text"
          style="max-height: 240px; overflow: hidden"
          dir="{% if article.lang == 'fa' %}rtl{% else %}ltr{% endif %}"
        >
          {{ article.body }}
        </p>
        <a href="{% url 'detail' article.id %}" class="btn btn-primary"
          >read more ...</a
        >
      </div>
      <div class="card-footer">
        <span class="icon-calendar"></span>
        <small class="text-body-secondary"
          >created at: {{ article.created }}</small
        >
      </div>
    </div>
    {%endfor%}
  </span>
  <span class="d-flex align-items-center flex-column w-25 justify-content-center">
    <span class="text-center">
      <h1>{{ text }}</h1>
      You can filter the articles with the help of the following options. I hope it will be useful for you
    </span>
    <span class="felesh d-flex">
      {% if articles.has_previous %}
        <div><a href="?page={{ articles.previous_page_number }}"><span class="icon-navigate_before"></span></a></div>
      {% else %}
        <div><span class="icon-navigate_before disable"></span></div>
      {% endif %}
      {% if articles.has_next %}
        <div><a href="?page={{ articles.next_page_number }}"><span class="icon-navigate_next"></span></a></div>
      {% else %}
        <div><span class="icon-navigate_next disable"></span></div>
      {% endif %}
    </span>
  </span>
</div>

<hr class="w-75" />

<div class="d-flex bd-highlight w-75 justify-content-center">
  <div class="p-2 w-100 flex-fill bd-highlight">
    {% load static %}
    <img src="{% static 'svg/table.svg' %}" alt="..." />
  </div>

  <div class="p-2 flex-shrink-1 bd-highlight align-self-center text-center">
    <h1>Personal library</h1>
    <p>
      You can upload your articles. These articles will be registered with your
      ownership and a summary of this article will be displayed for others
    </p>
    <a href="/upload" class="btn btn-secondary mb-3">create</a>
    <p>
      <small class="text-body-secondary">Last updated 3 mins ago</small>
    </p>
  </div>
</div>

{% endblock %}
